{"name":"Casparcg-mav","tagline":"MAV/EVS replacement system based on the CasparCG open video server","body":"# CasparCG MAV Edition\r\nCasparCG MAV Edition is a replay system based on the CasparCG open video server, using libjpeg-turbo for encoding and decoding video frames. It's essentially a module consisting of a producer and a consumer that work together to offer variable-speed replay.\r\n\r\nThe system allows multiple input and output channels: f.g. 1-in & 1-out, 3-in & 1-out, 1-in & 2-out, etc.\r\n\r\n## Configuration\r\n\r\nPlease follow first the ordinary CasparCG configuration guide at [http://www.casparcg.com/wiki CasparCG Wiki].\r\n\r\nThe minimal configuration for the MAV edition requires at least two channels: one for ingest and another one for output. This usually means two Decklink cards (or a Decklink DUO/QUAD): one for input, and another one for output. Beyond that you can have multiple input and output channels, in various configurations. Always have only one replay buffer per ingest channel.\r\n\r\nIn the configuration file:\r\n* Configure all ingest channels as empty channels with proper system modes (f.g. PAL or 1080i50000). Leave the consumers tag empty.\r\n* Configure all output channels as porper channels, like you normally would, f.g. with Decklink consumers.\r\n* Start the server\r\n* Play the input from your ingest decklink card on your ingest channel:\r\n```\r\nplay 1 decklink 1\r\n```\r\n* Add the replay consumer to your ingest channel:\r\n```\r\nadd 1 replay test-replay\r\n```\r\n\r\nThe \"test-replay\" is a file-name for your replay buffer. Two files will be created in your CasparCG \"media\" folder: a TEST-REPLAY.MAV file and a TEST-REPLAY.IDX file. The first one is the video essence, and the second one is a manifest and index file. Should you copy your replay buffers, always copy both files.\r\n\r\n* Play your replay buffer on your output channel:\r\n```\r\nplay 2 test-replay\r\n```\r\n* Voila! You have your own replay system.\r\n\r\n## Usage\r\n\r\nYou can seek within your replay buffer using the CALL ACMP 2.0 command:\r\n* This will seek to the 100th frame in the replay buffer:\r\n```\r\ncall 2 seek 100\r\n```\r\n\r\n* This will seek to the 100th frame counting from the end of the replay buffer:\r\n```\r\ncall 2 seek |100\r\n```\r\n\r\n* This will move the playhead of your replay 50 frames forward:\r\n```\r\ncall 2 seek +50\r\n```\r\n\r\n* This will move the playhead of your replay 50 frames backward:\r\n```\r\ncall 2 seek -50\r\n```\r\n\r\nYou can also change the speed of your playback:\r\n* Will make the playback go at normal speed\r\n```\r\ncall 2 speed 1\r\n```\r\n\r\n* Will make the playback go backwards at twice the normal speed\r\n```\r\ncall 2 speed -2\r\n```\r\n\r\n* Will make the playback go at half the speed\r\n```\r\ncall 2 speed 0.5\r\n```\r\n\r\n* Will make the playback go at 3/4 of normal speed\r\n```\r\ncall 2 speed 0.75\r\n```\r\n\r\nYou can also use CasparCG's auto-play feature along with transitions by using the `LENGTH` param. You can combine `SEEK`, `LENGTH` and `SPEED` in the `PLAY/LOAD/LOADBG` command.\r\n * This will make the playback start at 100th frame from the begining, play at 0.75x speed, and end playback after 100 frames (buffer time). Any transition (if specified using a f.g. `LOADBG (...) AUTO MIX 25`) to another clip will happen in the last 25 frames (output time)\r\n```\r\nplay 2 test-replay seek 100 speed 0.5 length 100\r\n```","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}